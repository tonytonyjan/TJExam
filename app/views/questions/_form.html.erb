<%= content_for :head do %>
  <%= render "share/mathjax" %>
<% end %>

<%= simple_nested_form_for @question, html: {multipart: true} do |f| %>
  <%= error_message f.object %>
  <div class="row-fluid">
    <div class="span6">
      <%= f.input :content, input_html: {class: "span12"} %>
    </div>
    <div class="span6">
      <p><%= t("share.preview") %></p>
      <p id="question_preview" class="well"></p>
    </div> 
  </div>
  
  <h3><%= Option.model_name.human count: 2 %></h3>
  <%= f.simple_fields_for :options do |ff| %>
    <div class="row-fluid option-row">
      <div class="span6">
        <%= ff.input :content, label: false, input_html: {class: 'option-content'} %>
        <%= ff.input :is_answer %>
        <%= ff.link_to_remove t("tj.form.destroy")+Option.model_name.human %>
      </div>
      <div class="span6">
        <div class="well">
          <div class="option-preview"></div>
        </div>
      </div>
    </div>
    <hr>
  <% end %>
  <%= f.link_to_add t("helpers.submit.create", model: Option.model_name.human), :options %>
  <div class="row-fluid">
    <div class="span6">
      <%= f.input :solution, :input_html => {:class => "span12"} %>
    </div>
    <div class="span6">
      <p><%= t("share.preview") %></p>
      <p id="solution_preview" class="well"></p>
    </div>
  </div>
  <%= f.input :subject_list %>
  <%= f.input :question_type_list %>
  <%= f.input :knowledge_point_list %>
  <%= f.input :chapter_location_list %>
  <%= f.input :location_list %>
  <%= f.input :source_list %>
  <%= f.input :concept_list %>
  <%= f.submit :class => "btn btn-large" %>
<% end %>